import{a as y,i as g,A as M}from"./assets/vendor-BmGkpOqw.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();const p=document.querySelector(".loader-more"),h=document.querySelector(".loader-more-container"),L=document.querySelector(".furniture-list"),v=document.querySelector(".load-more-btn");let i=1,a=null;const f=8;async function q(){try{const t=(await y("https://furniture-store.b.goit.study/api/categories")).data;t.unshift({_id:"0",name:"Всі товари"}),document.querySelectorAll(".category-card").forEach((s,e)=>{const n=t[e];if(!n)return;s.dataset.id=n._id;const c=s.querySelector(".category-title");c&&(c.textContent=n.name)})}catch{g.show({message:"Sorry, something went wrong. Please try again!",position:"topRight",messageColor:"#fff",titleColor:"#fff",color:"#ef4040",iconUrl:"../images/our-furniture/bi_x-octagon-2.svg",maxWidth:432})}}async function l(o=1,t){try{A(),m();let r=`https://furniture-store.b.goit.study/api/furnitures?limit=${f}&page=${o}`;t&&t!=="0"&&(r+=`&category=${t}`);const e=(await y(r)).data;P(e),a===null&&(a=Math.ceil(e.totalItems/f)),o>=a?m():x()}catch{g.show({message:"Sorry, something went wrong. Please try again!",position:"topRight",messageColor:"#fff",titleColor:"#fff",color:"#ef4040",iconUrl:"../images/our-furniture/bi_x-octagon-2.svg",maxWidth:432})}finally{$()}}function P(o){const t=o.furnitures;window.allFurnitures=t;const r=t.map(s=>{const{_id:e,name:n,description:c,price:S,images:C}=s;return`
    <li class="furniture-card" id="${e}"> 
  <img src="${C[0]}" alt="${c}" class="furniture-image" />
      <p class="furniture-name">${n}</p>
      <div class="color-wrap">
        <span class="grey-color"></span>
        <span class="beige-color"></span>
        <span class="black-color"></span>
      </div>
      <p class="furniture-price">${S} грн</p>
  <button class="details-btn" type="button">Детальніше</button>
</li>`}).join("");L.insertAdjacentHTML("beforeend",r)}async function O(o){const t=o.target.closest(".category-card");if(!t)return;document.querySelectorAll(".category-card.active").forEach(s=>s.classList.remove("active")),t.classList.add("active");const r=t.dataset.id;B(),i=1,r==="0"?(a=null,l(i)):(a=null,l(i,r))}function k(){i+=1,l(i)}function A(){p.classList.remove("hidden"),h.style.display="flex"}function $(){p.classList.add("hidden"),h.style.display="none"}function x(){v.classList.remove("hidden")}function m(){v.classList.add("hidden")}function B(){L.innerHTML=""}const I=document.querySelector(".categories-list"),_=document.querySelector(".load-more-btn");_.addEventListener("click",k);I.addEventListener("click",O);q();l(i);const u=document.querySelector("[data-menu]"),b=document.querySelector("[data-menu-open]"),j=document.querySelector("[data-menu-close]"),D=document.querySelectorAll(".mobile-nav-list a, .mobile-btn");function N(){u.classList.add("is-open"),document.body.style.overflow="hidden",document.addEventListener("keydown",w),document.addEventListener("click",E)}function d(){u.classList.remove("is-open"),document.body.style.overflow="",document.removeEventListener("keydown",w),document.removeEventListener("click",E)}function w(o){o.key==="Escape"&&d()}function E(o){!u.contains(o.target)&&!b.contains(o.target)&&d()}b.addEventListener("click",N);j.addEventListener("click",d);D.forEach(o=>{o.addEventListener("click",t=>{t.preventDefault();const r=o.getAttribute("href"),s=document.querySelector(r);s&&(d(),s.scrollIntoView({behavior:"smooth"}))})});function T(){document.addEventListener("DOMContentLoaded",()=>{new M(".accordion",{duration:300,showMultiple:!1}).open(0)})}T();
//# sourceMappingURL=index.js.map
