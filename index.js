import{a as f,i as m,A as w}from"./assets/vendor-BmGkpOqw.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const g=document.querySelector(".loader-more"),p=document.querySelector(".loader-more-container"),y=document.querySelector(".furniture-list"),h=document.querySelector(".load-more-btn");let c=1,a=null;const u=8;async function v(){try{const t=(await f("https://furniture-store.b.goit.study/api/categories")).data;t.unshift({_id:"0",name:"Всі товари"}),document.querySelectorAll(".category-card").forEach((s,e)=>{const o=t[e];if(!o)return;s.dataset.id=o._id;const i=s.querySelector(".category-title");i&&(i.textContent=o.name)})}catch{m.show({message:"Sorry, something went wrong. Please try again!",position:"topRight",messageColor:"#fff",titleColor:"#fff",color:"#ef4040",iconUrl:"../images/our-furniture/bi_x-octagon-2.svg",maxWidth:432})}}async function l(n=1,t){try{P(),d();let r=`https://furniture-store.b.goit.study/api/furnitures?limit=${u}&page=${n}`;t&&t!=="0"&&(r+=`&category=${t}`);const e=(await f(r)).data;C(e),a===null&&(a=Math.ceil(e.totalItems/u)),n>=a?d():O()}catch{m.show({message:"Sorry, something went wrong. Please try again!",position:"topRight",messageColor:"#fff",titleColor:"#fff",color:"#ef4040",iconUrl:"../images/our-furniture/bi_x-octagon-2.svg",maxWidth:432})}finally{q()}}function C(n){const t=n.furnitures;window.allFurnitures=t;const r=t.map(s=>{const{_id:e,name:o,description:i,price:L,images:b}=s;return`
    <li class="furniture-card" id="${e}"> 
  <img src="${b[0]}" alt="${i}" class="furniture-image" />
      <p class="furniture-name">${o}</p>
      <div class="color-wrap">
        <span class="grey-color"></span>
        <span class="beige-color"></span>
        <span class="black-color"></span>
      </div>
      <p class="furniture-price">${L} грн</p>
  <button class="details-btn" type="button">Детальніше</button>
</li>`}).join("");y.insertAdjacentHTML("beforeend",r)}async function M(n){const t=n.target.closest(".category-card");if(!t)return;document.querySelectorAll(".category-card.active").forEach(s=>s.classList.remove("active")),t.classList.add("active");const r=t.dataset.id;$(),c=1,r==="0"?(a=null,l(c)):(a=null,l(c,r))}function S(){c+=1,l(c)}function P(){g.classList.remove("hidden"),p.style.display="flex"}function q(){g.classList.add("hidden"),p.style.display="none"}function O(){h.classList.remove("hidden")}function d(){h.classList.add("hidden")}function $(){y.innerHTML=""}const x=document.querySelector(".categories-list"),A=document.querySelector(".load-more-btn");A.addEventListener("click",S);x.addEventListener("click",M);v();l(c);function E(){document.addEventListener("DOMContentLoaded",()=>{new w(".accordion",{duration:300,showMultiple:!1}).open(0)})}E();
//# sourceMappingURL=index.js.map
