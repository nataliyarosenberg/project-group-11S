{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/our-furniture.js","../src/js/hero.js","../src/js/burger-menu.js","../src/js/product-modal.js","../src/img/icons.svg","../src/js/order-modal.js","../src/js/faq.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst loaderMore = document.querySelector(\".loader-more\")\nconst loaderMoreContainer = document.querySelector(\".loader-more-container\");\nconst furnituresListContainer = document.querySelector(\".furniture-list\");\nconst loadMoreBtn = document.querySelector(\".load-more-btn\");\n\nexport let currentPage = 1;\nlet totalPages = null;\nconst limit = 8;\n// ініціація кеша для модалки\nwindow.allFurnitures = window.allFurnitures || [];\n// \n\nexport async function fetchCategories() {\n    try {\n        const response = await axios('https://furniture-store.b.goit.study/api/categories');\n        const categories = response.data;\n\n      categories.unshift({ _id: \"0\", name: \"Всі товари\" })\n      const categoryCards = document.querySelectorAll('.category-card');\n\n    categoryCards.forEach((card, index) => {\n      const category = categories[index];\n      if (!category) return;\n\n      card.dataset.id = category._id;\n\n      const title = card.querySelector('.category-title');\n      if (title) {\n        title.textContent = category.name;\n      }\n    });} catch (error) {\n        iziToast.show({\n      message: 'Sorry, something went wrong. Please try again!',\n      position: 'topRight',\n      messageColor: '#fff',\n      titleColor: '#fff',\n      color: '#ef4040',\n      iconUrl: '../images/our-furniture/bi_x-octagon-2.svg',\n      maxWidth: 432\n    });\n    }\n}\n\nexport async function fetchProducts(page = 1, id) {\n  try {\n    showLoaderMore();\n    hideLoadMoreButton();\n\n    let url = `https://furniture-store.b.goit.study/api/furnitures?limit=${limit}&page=${page}`;\n    \n    if (id && id !== \"0\") {\n      url += `&category=${id}`;\n    }\n\n    const response = await axios(url);\n    const productsObject = response.data;\n    \n    renderProducts(productsObject);\n\n    if (totalPages === null) {\n      totalPages = Math.ceil(productsObject.totalItems / limit);\n    }\n\n    if (page >= totalPages) {\n      hideLoadMoreButton();\n    } else {\n      showLoadMoreButton(); \n    }\n  } catch (error) {\n    iziToast.show({\n      message: 'Sorry, something went wrong. Please try again!',\n      position: 'topRight',\n      messageColor: '#fff',\n      titleColor: '#fff',\n      color: '#ef4040',\n      iconUrl: '../images/our-furniture/bi_x-octagon-2.svg',\n      maxWidth: 432\n    });\n  } finally {\n    hideLoaderMore();\n  }\n}\n\nexport function renderProducts(obj) {\n  const furnitures = obj.furnitures;\n  // збираємо всі товари для модалки\n    window.allFurnitures = [\n  ...new Map(\n    [...window.allFurnitures, ...furnitures].map(item => [item._id, item])\n  ).values()\n  ];\n  // \n  const markup = furnitures.map(product => {\n    const { _id, name, description, price, images } = product;\n    return `\n    <li class=\"furniture-card\" id=\"${_id}\"> \n  <img src=\"${images[0]}\" alt=\"${description}\" class=\"furniture-image\" />\n      <p class=\"furniture-name\">${name}</p>\n      <div class=\"color-wrap\">\n        <span class=\"grey-color\"></span>\n        <span class=\"beige-color\"></span>\n        <span class=\"black-color\"></span>\n      </div>\n      <p class=\"furniture-price\">${price} грн</p>\n  <button class=\"details-btn\" type=\"button\">Детальніше</button>\n</li>`\n  }).join(\"\");\n\n  furnituresListContainer.insertAdjacentHTML('beforeend', markup);\n}\n\nexport async function handlerClickOnCategory(event){\n    const currentCategory = event.target.closest(\".category-card\")\n    if (!currentCategory) {\n        return\n    }\n\n    document.querySelectorAll(\".category-card.active\").forEach(card =>\n    card.classList.remove(\"active\")\n  );\n\n    currentCategory.classList.add(\"active\");\n    \n    const currentCategoryID = currentCategory.dataset.id;\n    \n    clearProducts();\n    currentPage = 1; \n\n  if (currentCategoryID === \"0\") { \n    totalPages = null; \n    fetchProducts(currentPage);\n  } else {\n    totalPages = null; \n    fetchProducts(currentPage, currentCategoryID);\n  }\n}\n\n\n\n\n export function handleLoadMore() {\n  currentPage += 1;\n  fetchProducts(currentPage);\n }\n\n export function showLoaderMore() {\n  loaderMore.classList.remove(\"hidden\");\n  loaderMoreContainer.style.display = 'flex';\n\n}\n\n export function hideLoaderMore() {\n  loaderMore.classList.add(\"hidden\");\n  loaderMoreContainer.style.display = 'none';\n }\n\n \nexport function showLoadMoreButton() {\n  loadMoreBtn.classList.remove(\"hidden\");\n  \n}\n\nexport function hideLoadMoreButton() {\n  loadMoreBtn.classList.add(\"hidden\");\n}\n\nfunction clearProducts() {\n  furnituresListContainer.innerHTML = \"\";\n  // очіщення кешу при зміні категорії\n  window.allFurnitures = []; \n  // \n}","import axios from 'axios';\nimport {fetchCategories, fetchProducts, showLoaderMore, hideLoaderMore, handleLoadMore, renderProducts, currentPage, handlerClickOnCategory } from '../js/api.js';\n\nconst categoriesList = document.querySelector(\".categories-list\");\nconst moreBtn = document.querySelector(\".load-more-btn\");\nmoreBtn.addEventListener(\"click\", handleLoadMore);\ncategoriesList.addEventListener(\"click\", handlerClickOnCategory);\n\nfetchCategories();\nfetchProducts(currentPage);","document.addEventListener('DOMContentLoaded', () => {\n  const button = document.querySelector('.hero__button');\n  const target = document.querySelector('#reviews');\n\n  if (button && target) {\n    button.addEventListener('click', () => {\n      target.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    });\n  }\n});\n","const menu = document.querySelector('[data-menu]');\nconst openBtn = document.querySelector('[data-menu-open]');\nconst closeBtn = document.querySelector('[data-menu-close]');\nconst navLinks = document.querySelectorAll('.mobile-nav-list a, .mobile-btn');\n\nfunction openMenu() {\n  menu.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n  document.addEventListener('keydown', handleEsc);\n  document.addEventListener('click', handleClickOutside);\n}\n\nfunction closeMenu() {\n  menu.classList.remove('is-open');\n  document.body.style.overflow = '';\n  document.removeEventListener('keydown', handleEsc);\n  document.removeEventListener('click', handleClickOutside);\n}\n\nfunction handleEsc(e) {\n  if (e.key === 'Escape') {\n    closeMenu();\n  }\n}\n\nfunction handleClickOutside(e) {\n  if (!menu.contains(e.target) && !openBtn.contains(e.target)) {\n    closeMenu();\n  }\n}\n\nopenBtn.addEventListener('click', openMenu);\ncloseBtn.addEventListener('click', closeMenu);\n\nnavLinks.forEach(link => {\n  link.addEventListener('click', e => {\n    e.preventDefault();\n    const targetId = link.getAttribute('href');\n    const targetElement = document.querySelector(targetId);\n    if (targetElement) {\n      closeMenu();\n      targetElement.scrollIntoView({\n        behavior: 'smooth',\n      });\n    }\n  });\n});\n","const modal = document.querySelector('.modal');\nconst closeModalBtn = document.querySelector('.modal_close');\n\nconst modalImg = document.querySelector('.modal_main-image img');\nconst modalTitle = document.querySelector('.modal_title');\nconst modalCategory = document.querySelector('.modal_category');\nconst modalPrice = document.querySelector('.modal_price');\nconst modalDescription = document.querySelector('.modal_description');\nconst modalRate = document.querySelector('.modal_rate');\nconst modalColors = document.querySelector('.color-checkboxes');\nconst modalSize = document.querySelector('.modal_sizes');\nconst orderBtn = document.querySelector('.modal_order-btn');\nconst thumbsContainer = document.querySelector('.modal_thumbnails');\n\nconst list = document.querySelector('.furniture-list');\n\nlet currentIndex = 0;\nlet currentImages = [];\n\nfunction handleEscape(e) {\n  if (e.key === 'Escape') closeModal();\n}\n\nfunction renderGallery() {\n  if (!currentImages.length) return;\n\n  modalImg.src = currentImages[currentIndex];\n  modalImg.alt = modalTitle.textContent || 'Фото товару';\n\n  const thumbs = currentImages\n    .map((src, i) => ({ src, i }))\n    .filter(({ i }) => i !== currentIndex)\n    .map(\n      ({ src, i }) => `\n      <img class=\"thumbnail-img\" src=\"${src}\" alt=\"thumb ${i}\" data-index=\"${i}\">\n    `\n    )\n    .join('');\n\n  thumbsContainer.innerHTML = thumbs;\n}\n\nthumbsContainer?.addEventListener('click', e => {\n  const t = e.target.closest('.thumbnail-img');\n  if (!t) return;\n  currentIndex = Number(t.dataset.index);\n  renderGallery();\n});\n\nlist?.addEventListener('click', event => {\n  const btn = event.target.closest('.details-btn');\n  if (!btn) return;\n\n  const card = btn.closest('.furniture-card');\n  if (!card) return;\n\n  const id = card.dataset.id || card.id;\n  if (!id || !window.allFurnitures) return;\n\n  const product = window.allFurnitures.find(item => item._id === id);\n  if (!product) return;\n\n  openModal(product);\n});\n\nfunction openModal(product) {\n  modalTitle.textContent = product.name || 'Без назви';\n  modalCategory.textContent = product.type || 'Тип невідомий';\n  modalPrice.textContent = `${product.price} грн` || 'Ціна невідома';\n  modalDescription.textContent = product.description || 'Опис відсутній';\n  orderBtn.dataset.model = product.name || '';\n  orderBtn.setAttribute('data-modal-open', '');\n  orderBtn.setAttribute('data-id', product._id);\n  orderBtn.setAttribute('data-marker', 'product-modal');\n\n  if (modalRate && typeof product.rate === 'number') {\n    const rounded = Math.round(product.rate * 10) / 10;\n    const percentage = (Math.min(5, rounded) / 5) * 100;\n    modalRate.innerHTML = `\n      <div class=\"star-rating\" style=\"--star-fill: ${percentage}%\"></div>\n      <span class=\"rating-text\">${rounded.toFixed(1)}</span>\n    `;\n  } else {\n    modalRate.innerHTML = '';\n  }\n\n  // кольори (radio)\n  if (modalColors && Array.isArray(product.color)) {\n    modalColors.innerHTML = product.color\n      .map((color, i) => {\n        const id = `color-${i}`;\n        return `\n          <input type=\"radio\" id=\"${id}\" name=\"color\" data-color=\"${color}\" ${\n          i === 0 ? 'checked' : ''\n        } />\n          <label for=\"${id}\" style=\"background-color: ${color}\"></label>\n        `;\n      })\n      .join('');\n  } else {\n    modalColors.innerHTML = '';\n  }\n\n  modalSize.textContent = `Розміри: ${product.sizes || 'невідомі'}`;\n\n  currentImages = Array.isArray(product.images) ? product.images.slice() : [];\n  currentIndex = 0;\n  renderGallery();\n\n  orderBtn.dataset.id = product._id || '';\n\n  modal.classList.remove('visually-hidden');\n  closeModalBtn.focus();\n  document.body.style.overflow = 'hidden';\n  document.addEventListener('keydown', handleEscape);\n}\n\nfunction closeModal() {\n  modal.classList.add('visually-hidden');\n  document.body.style.overflow = '';\n  document.removeEventListener('keydown', handleEscape);\n}\n\ncloseModalBtn?.addEventListener('click', closeModal);\nmodal?.addEventListener('click', e => {\n  if (e.target === modal) closeModal();\n});\n\norderBtn.addEventListener('click', () => {\n  const selected = document.querySelector(\n    '.color-checkboxes input[type=\"radio\"]:checked'\n  );\n  const color = selected ? selected.dataset.color : null;\n\n  if (color) orderBtn.setAttribute('data-color', color);\n  if (orderBtn.dataset.model)\n    orderBtn.setAttribute('data-model', orderBtn.dataset.model);\n\n  closeModal();\n\n  const evt = new CustomEvent('open-order-modal', {\n    detail: {\n      model: orderBtn.dataset.model || '',\n      color,\n    },\n  });\n  document.dispatchEvent(evt);\n});\n","export default \"data:image/svg+xml,%3csvg%20aria-hidden='true'%20style='position:%20absolute;%20width:%200;%20height:%200;%20overflow:%20hidden;'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3csymbol%20id='icon-x-icon'%20viewBox='0%200%2032%2032'%3e%3cpath%20d='M21.589%208.459l-5.657%205.656-5.656-5.656-1.885%201.885%205.656%205.656-5.656%205.656%201.885%201.885%205.656-5.656%205.657%205.656%201.885-1.885-5.656-5.656%205.656-5.656-1.885-1.885z'%3e%3c/path%3e%3c/symbol%3e%3c/defs%3e%3c/svg%3e\"","import iconSprite from '../img/icons.svg';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet furnitureId = null;\nlet markerValue = null;\n\n// Функція для завантаження HTML модалки\nexport async function loadOrderModal() {\n  try {\n    // Додаємо SVG спрайт\n    if (!document.getElementById('svg-sprite')) {\n      const response = await fetch(iconSprite);\n      const svgText = await response.text();\n      const div = document.createElement('div');\n      div.style.position = 'absolute';\n      div.style.width = '0';\n      div.style.height = '0';\n      div.style.overflow = 'hidden';\n      div.id = 'svg-sprite';\n      div.innerHTML = svgText;\n      document.body.prepend(div);\n    }\n\n    const response = await fetch('./partials/order-modal.html');\n    const html = await response.text();\n    document.body.insertAdjacentHTML('beforeend', html);\n\n    const backdrop = document.querySelector('.backdrop');\n    const closeBtn = document.querySelector('.modal-button-close');\n    const form = document.querySelector('.modal-form');\n\n    if (backdrop) {\n      // Закриття по кліку на бекдроп\n      backdrop.addEventListener('click', e => {\n        if (e.target === backdrop) {\n          closeModal();\n        }\n      });\n\n      // Закриття по ESC\n      document.addEventListener('keydown', e => {\n        if (e.key === 'Escape' && backdrop.classList.contains('is-open')) {\n          closeModal();\n        }\n      });\n    }\n\n    if (closeBtn) {\n      closeBtn.addEventListener('click', closeModal);\n    }\n\n    if (form) {\n      form.addEventListener('submit', handleFormSubmit);\n    }\n  } catch (error) {\n    console.error('Помилка завантаження модалки:', error);\n  }\n}\n\nfunction closeModal() {\n  const backdrop = document.querySelector('.backdrop');\n  if (backdrop) {\n    backdrop.classList.remove('is-open');\n    document.body.style.overflow = '';\n    resetForm();\n  }\n}\n\nfunction resetForm() {\n  const form = document.querySelector('.modal-form');\n  if (form) {\n    form.reset();\n  }\n}\n\n// async function handleFormSubmit(e) {\n//   e.preventDefault();\n\n//   const form = e.target;\n//   const formData = new FormData(form);\n//   const data = {\n//     name: formData.get('user-name'),\n//     phone: formData.get('user-phone'),\n//     comment: formData.get('user-comment'),\n//     furnitureId,\n//     marker: markerValue,\n//   };\n\n//   try {\n//     const response = await fetch('/orders', {\n//       method: 'POST',\n//       headers: {\n//         'Content-Type': 'application/json',\n//       },\n//       body: JSON.stringify(data),\n//     });\n\n//     if (response.ok) {\n//       iziToast.success({\n//         title: 'Успіх',\n//         message: 'Ваше замовлення успішно відправлено!',\n//         position: 'topRight',\n//       });\n//       closeModal();\n//     } else {\n//       const errorData = await response.json();\n//       throw new Error(errorData.message || 'Помилка сервера');\n//     }\n//   } catch (error) {\n//     iziToast.error({\n//       title: 'Помилка',\n//       message: error.message || 'Не вдалося відправити форму',\n//       position: 'topRight',\n//     });\n//   }\n// }\n\nasync function handleFormSubmit(e) {\n  e.preventDefault();\n  const form = e.target;\n  const formData = new FormData(form);\n  const data = {\n    name: formData.get('user-name'),\n    phone: formData.get('user-phone'),\n    comment: formData.get('user-comment'),\n    furnitureId,\n    marker: markerValue,\n  };\n  try {\n    iziToast.success({\n      title: 'Успіх',\n      message: 'Форма успішно відправлена',\n      position: 'topRight',\n    });\n    closeModal();\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Щось пішло не так ',\n      position: 'topRight',\n    });\n  }\n}\n\nexport function toggleModal(open = true, id = null, marker = null) {\n  const backdrop = document.querySelector('.backdrop');\n  if (backdrop) {\n    backdrop.classList.toggle('is-open', open);\n    document.body.style.overflow = open ? 'hidden' : '';\n\n    if (open) {\n      furnitureId = id;\n      markerValue = marker;\n    }\n  }\n}\n\n//     // Додаємо обробники подій\n//     const backdrop = document.querySelector('.backdrop');\n//     if (backdrop) {\n//       backdrop.addEventListener('click', () => {\n//         backdrop.classList.remove('is-open');\n//       });\n//     }\n//   } catch (error) {\n//     console.error('Помилка завантаження модалки:', error);\n//   }\n// }\n\n// // Функція для відкриття/закриття модалки\n// export function toggleModal(open = true) {\n//   const backdrop = document.querySelector('.backdrop');\n//   if (backdrop) {\n//     backdrop.classList.toggle('is-open', open);\n//   }\n// }\n","import Accordion from \"accordion-js\";\nimport \"accordion-js/dist/accordion.min.css\";\nimport \"../css/faq.css\"\nexport function initAccordion() {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    const accordion = new Accordion(\".accordion\", {\n      duration: 300,\n      showMultiple: false,\n    });\n    accordion.open(0);\n  });\n}","import { loadOrderModal, toggleModal } from './js/order-modal.js';\nimport { initAccordion } from './js/faq.js';\n\n// Завантажуємо модалку при завантаженні сторінки\ndocument.addEventListener('DOMContentLoaded', () => {\n  loadOrderModal();\n\n  //   //  відкрити модалку по кліку на кнопку (якщо є)\n  //   const openModalBtn = document.querySelector('[data-modal-open]');\n  //   if (openModalBtn) {\n  //     openModalBtn.addEventListener('click', () => toggleModal(true));\n  //   }\n  // });\n\n  // Приклад відкриття модалки з даними\n  document.addEventListener('click', e => {\n    if (e.target.closest('[data-modal-open]')) {\n      const furnitureId = e.target.closest('[data-modal-open]').dataset.id;\n      const marker = e.target.closest('[data-modal-open]').dataset.marker;\n      toggleModal(true, furnitureId, marker);\n    }\n  });\n});\n\ninitAccordion();\n"],"names":["loaderMore","loaderMoreContainer","furnituresListContainer","loadMoreBtn","currentPage","totalPages","limit","fetchCategories","categories","axios","card","index","category","title","iziToast","fetchProducts","page","id","showLoaderMore","hideLoadMoreButton","url","productsObject","renderProducts","showLoadMoreButton","hideLoaderMore","obj","furnitures","item","markup","product","_id","name","description","price","images","handlerClickOnCategory","event","currentCategory","currentCategoryID","clearProducts","handleLoadMore","categoriesList","moreBtn","button","target","menu","openBtn","closeBtn","navLinks","openMenu","handleEsc","handleClickOutside","closeMenu","link","e","targetId","targetElement","modal","closeModalBtn","modalImg","modalTitle","modalCategory","modalPrice","modalDescription","modalRate","modalColors","modalSize","orderBtn","thumbsContainer","list","currentIndex","currentImages","handleEscape","closeModal","renderGallery","thumbs","src","i","btn","openModal","rounded","percentage","color","selected","evt","iconSprite","loadOrderModal","svgText","div","html","backdrop","form","handleFormSubmit","error","resetForm","formData","toggleModal","open","marker","initAccordion","Accordion","furnitureId"],"mappings":"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"}